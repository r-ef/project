<html>
    <head>
        <title>company sign up | internly</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body class="darbody">
        <img src="website admin logo.png" height="60" width="134" style="display: block; margin-top: 50px; margin-left: auto; margin-right: auto;" />

        <form class="darform" id="companySignupForm">
            <table class="signtab" border="0">
                <tr>
                    <td colspan="2" align="center"><h3>sign up</h3></td>
                </tr>
                <tr>
                    <td>company name:</td>
                    <td><input type="text" class="darinput" name="com_name" size="30" required></td>
                </tr>
                <tr>
                    <td>location:</td>
                    <td><input type="text" class="darinput" name="com_location" size="30" required></td>
                </tr>
                <tr>
                    <td>email:</td>
                    <td><input type="email" class="darinput" name="com_email" size="30" required></td>
                </tr>
                <tr>
                    <td>password:</td>
                    <td><input type="password" class="darinput" name="com_pass" size="30" required></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="submit" class="butn" value="sign up"></td>
                </tr>
            </table>
        </form>
    </body>
    <script>
    document.getElementById('companySignupForm').addEventListener('submit', async function(event) {
        event.preventDefault();
        const name = document.querySelector('input[name="com_name"]').value;
        const location = document.querySelector('input[name="com_location"]').value;
        const email = document.querySelector('input[name="com_email"]').value;
        const password = document.querySelector('input[name="com_pass"]').value;
        if (email && password) {
            const response = await fetch('http://localhost:3000/companysignup', {
                method: 'POST',
                credentials: 'include',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name, location, email, password })
            });
            if (response.ok) {
                alert('sign up successful');
                window.location.href = 'companyhome.html';
            } else {
                alert('sign up failed');
            }
        }
    });
    </script>
</html>