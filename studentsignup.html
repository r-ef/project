<html>
    <head>
        <title>student sign up | internly</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body class="ligbody">
        <img src="website logo.png" height="60" width="134" style="display: block; margin-top: 50px; margin-left: auto; margin-right: auto;" />

        <form class="ligform" id="studentSignupForm">
            <table class="signtab" border="0">
                <tr>
                    <td colspan="2" align="center"><h3>sign up</h3></td>
                </tr>
                <tr>
                    <td>first name:</td>
                    <td><input type="text" class="liginput" name="stu_fname" size="30" required></td>
                </tr>
                <tr>
                    <td>last name:</td>
                    <td><input type="text" class="liginput" name="stu_lname" size="30" required></td>
                 </tr>
                 <tr>
                    <td>date of birth:</td>
                    <td><input type="date" class="ligdate" name="stu_dob" required></td>
                 </tr>
                 <tr>
                    <td>gender:</td>
                    <td><input type="radio" class="liginput" name="stu_gen" value="f" required>female
                    <input type="radio" class="liginput" name="stu_gen" value="m" required>male</td>
                 </tr>
                <tr>
                    <td>email:</td>
                    <td><input type="email" class="liginput" name="stu_email" size="30" required></td>
                </tr>
                <tr>
                    <td>password:</td>
                    <td><input type="password" class="liginput" name="stud_pass" size="30" required></td>
                </tr>
                <tr>
                    <td colspan="2"><input type="submit" class="butn" value="sign up"></td>
                </tr>
            </table>
        </form>
    </body>
    <script>
    document.getElementById('studentSignupForm').addEventListener('submit', async function(event) {
        event.preventDefault();
        const firstname = document.querySelector('input[name="stu_fname"]').value;
        const lastname = document.querySelector('input[name="stu_lname"]').value;
        const dob = document.querySelector('input[name="stu_dob"]').value;
        const gender = document.querySelector('input[name="stu_gen"]').value;
        const email = document.querySelector('input[name="stu_email"]').value;
        const password = document.querySelector('input[name="stud_pass"]').value;
        if (email && password) {
            const response = await fetch('http://localhost:3000/studentsignup', {
                method: 'POST',
                credentials: 'include',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ firstname, lastname, dob, gender, email, password })
            });
            if (response.ok) {
                alert('sign up successful');
                window.location.href = 'studenthome.html';
            } else {
                alert('sign up failed');
            }
        }
    });
    </script>
</html>